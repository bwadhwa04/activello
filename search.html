<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Sofia&display=swap"
      rel="stylesheet"
    />
    <script src="src/data/itemsdata.js" defer></script>
    <link rel="stylesheet" href="/src/output.css">
    <title>soBONIX</title>
</head>
<script type="module">


    fetch("/index.html").then(res =>res.text()).then(html => {
    const parser = new DOMParser();
    const doc = parser.parseFromString(html, "text/html");

    const header = doc.querySelector("#Main-Header");
    document.getElementById("search-header").appendChild(header);

    const subbodySidecontent = doc.querySelector("#Main-subbody-sidecontent");
    document.getElementById("search-subbody-sidecontent").appendChild(subbodySidecontent);
    
    const footer = doc.querySelector("#Main-footer");
    document.getElementById("search-footer").appendChild(footer);

    const subheader = doc.querySelector("#Main-subheader");
    document.getElementById("search-subheader").appendChild(subheader);
    });

    const params = new URLSearchParams(window.location.search);
    const data = JSON.parse(decodeURIComponent(params.get("data")));

    fetch("src/components/largecard.html").then(res=>res.text()).then(html => {
        var i=1;
        data.forEach(element => {
             const container = document.getElementById(`search-content${i}`);
        container.innerHTML = html;

        const img = container.querySelector("img");
        img.src = element.imgurl;

        const name = container.querySelector("h4");
        name.innerHTML = element.name;
        i++;
        });
    });

</script>
<body>
    <div id="search-header"></div>
    <hr>
    <div id="search-subheader"></div>
    <hr class="w-7/12 text-purple-200! h-0.5 mx-auto mb-10">

    <div class="sub-body">
        <div class="subbody-content">
            <div id="search-content1"></div>
            <div id="search-content2"></div>
            <div id="search-content3"></div>
        </div>
        <div id="search-subbody-sidecontent" class="subbody-sidecontent"></div>
    </div>

    <div id="search-footer"></div>
    

</body>
</html>